[
  {
    "name": "connector",
    "image": "${connector-docker-image}",
    "memoryReservation": 10,
    "links": [],
    "hostname": "connector",
    "portMappings": [
      {
        "containerPort": 50051,
        "protocol": "tcp"
      }
    ],
    "essential": true,
    "entryPoint": [],
    "command": [],
    "environment": [
      {
        "name": "GEUD_CONNECTOR_PSQL_HOST",
        "value": "${connector-psql-host}"
      },
      {
        "name": "GEUD_CONNECTOR_PSQL_DATABASE",
        "value": "${connector-psql-database}"
      },
      {
        "name": "GEUD_CONNECTOR_PSQL_USERNAME",
        "value": "${connector-psql-username}"
      },
      {
        "name": "GEUD_CONNECTOR_PSQL_PASSWORD",
        "value": "${connector-psql-password}"
      }
    ],
    "mountPoints": [],
    "volumesFrom": [],
    "logConfiguration": {
      "logDriver": "awslogs",
      "options": {
        "awslogs-group": "${awslogs-group}",
        "awslogs-region": "${awslogs-region}"
      }
    },
    "networkMode": "bridge"
  },
  {
    "name": "node",
    "image": "${node-docker-image}",
    "memoryReservation": 10,
    "links": ["bitcoind"],
    "hostname": "node",
    "portMappings": [
      {
        "containerPort": 50053,
        "protocol": "tcp"
      }
    ],
    "essential": true,
    "entryPoint": [],
    "command": [],
    "environment": [
      {
        "name": "GEUD_NODE_PSQL_HOST",
        "value": "${node-psql-host}"
      },
      {
        "name": "GEUD_NODE_PSQL_DATABASE",
        "value": "${node-psql-database}"
      },
      {
        "name": "GEUD_NODE_PSQL_USERNAME",
        "value": "${node-psql-username}"
      },
      {
        "name": "GEUD_NODE_PSQL_PASSWORD",
        "value": "${node-psql-password}"
      },
      {
        "name": "GEUD_NODE_BITCOIND_HOST",
        "value": "bitcoind"
      },
      {
        "name": "GEUD_NODE_BITCOIND_PORT",
        "value": "${node-bitcoind-port}"
      },
      {
        "name": "GEUD_NODE_BITCOIND_USERNAME",
        "value": "${node-bitcoind-username}"
      },
      {
        "name": "GEUD_NODE_BITCOIND_PASSWORD",
        "value": "${node-bitcoind-password}"
      }
    ],
    "mountPoints": [],
    "volumesFrom": [],
    "logConfiguration": {
      "logDriver": "awslogs",
      "options": {
        "awslogs-group": "${awslogs-group}",
        "awslogs-region": "${awslogs-region}"
      }
    },
    "networkMode": "bridge"
  },
  {
    "name": "bitcoind",
    "image": "ruimarinho/bitcoin-core",
    "memoryReservation": 10,
    "links": [],
    "hostname": "bitcoind",
    "portMappings": [
      {
        "containerPort": 18333,
        "protocol": "tcp"
      }
    ],
    "essential": true,
    "entryPoint": [],
    "command": ["-printtoconsole", "-regtest=1", "-rpcallowip=0.0.0.0/0", "-rpcuser=bitcoin", "-rpcpassword=bitcoin", "-rpcbind=bitcoind:18333"],
    "environment": [],
    "mountPoints": [],
    "volumesFrom": [],
    "logConfiguration": {
      "logDriver": "awslogs",
      "options": {
        "awslogs-group": "${awslogs-group}",
        "awslogs-region": "${awslogs-region}"
      }
    },
    "networkMode": "bridge"
  },
  {
    "name": "envoy",
    "image": "895947072537.dkr.ecr.us-east-2.amazonaws.com/cvp-envoy:latest",
    "memoryReservation": 10,
    "links": ["connector"],
    "hostname": "envoy",
    "portMappings": [
      {
        "containerPort": 8080,
        "protocol": "tcp"
      }
    ],
    "essential": true,
    "entryPoint": [],
    "command": ["-c", "/etc/envoy/envoy.yaml", "--log-path", "/dev/stdout"],
    "environment": [],
    "mountPoints": [],
    "volumesFrom": [],
    "logConfiguration": {
      "logDriver": "awslogs",
      "options": {
        "awslogs-group": "${awslogs-group}",
        "awslogs-region": "${awslogs-region}"
      }
    },
    "networkMode": "bridge"
  },
  {
    "name": "web",
    "image": "${web-docker-image}",
    "memoryReservation": 10,
    "links": [],
    "hostname": "web",
    "portMappings": [
      {
        "containerPort": 80,
        "protocol": "tcp"
      }
    ],
    "essential": true,
    "entryPoint": [],
    "mountPoints": [],
    "volumesFrom": [],
    "logConfiguration": {
      "logDriver": "awslogs",
      "options": {
        "awslogs-group": "${awslogs-group}",
        "awslogs-region": "${awslogs-region}"
      }
    },
    "environment": [
      {
        "name": "REACT_APP_GRPC_CLIENT",
        "value": "${react-app-grpc-client}"
      }
    ],
    "networkMode": "bridge"
  }
]