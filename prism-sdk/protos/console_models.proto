syntax = "proto3";

package io.iohk.atala.prism.protos;

enum ContactConnectionStatus {
  STATUS_MISSING = 0; // default value, represents the lack of status
  INVITATION_MISSING = 1; // the is no connection token generated and no invitation has been sent
  CONNECTION_MISSING = 2; // the contact has been invited and the connection token has been generated
  CONNECTION_ACCEPTED = 3; // the contact accepted the connection
  CONNECTION_REVOKED = 4; // the contact rejected the connection
}

message Contact {
  string contactId = 1;
  string externalId = 2; // the id provided by the issuer at subject creation time
  string jsonData = 3;
  ContactConnectionStatus connectionStatus = 4;
  string connectionToken = 5; // present when the status is ConnectionMissing
  string connectionId = 6; // present when the status is ConnectionAccepted
  int64 createdAt = 7;
}